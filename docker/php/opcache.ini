; ACME Corp CSR Platform - OPcache Configuration
; Optimized for FrankenPHP + Laravel Octane

; === OPcache Enable ===
opcache.enable = 1
opcache.enable_cli = 1

; === Memory Configuration ===
opcache.memory_consumption = 256
opcache.interned_strings_buffer = 16
opcache.max_accelerated_files = 20000

; === Performance Optimization ===
opcache.validate_timestamps = 0
opcache.revalidate_freq = 0
opcache.save_comments = 1
opcache.fast_shutdown = 1
opcache.enable_file_override = 1

; === Error and Debugging ===
opcache.log_verbosity_level = 1
opcache.error_log = /var/log/opcache.log

; === Preloading (Laravel Octane) ===
opcache.preload_user = www-data

; === File Cache ===
opcache.file_cache = /tmp/opcache
opcache.file_cache_only = 0
opcache.file_cache_consistency_checks = 0
opcache.file_cache_fallback = 1

; === Security ===
opcache.restrict_api = ""

; === Advanced Configuration ===
opcache.huge_code_pages = 1
opcache.optimization_level = 0x7FFFBFFF
opcache.use_cwd = 1
opcache.blacklist_filename = ""

; === JIT Configuration (PHP 8.4) ===
opcache.jit = function
opcache.jit_buffer_size = 128M
opcache.jit_debug = 0