# ================================================================
# ACME Corp CSR Platform - Staging Environment
# ================================================================

# === Application Configuration ===
APP_NAME="ACME CSR Platform (Staging)"
APP_ENV=staging
APP_DEBUG=false
APP_TIMEZONE=UTC
APP_URL=https://staging.acme-corp.com

# === Security ===
APP_KEY=base64:STAGING_32_CHAR_KEY_HERE
BCRYPT_ROUNDS=12
SESSION_SECURE_COOKIES=true
SESSION_SAME_SITE=strict

# === FrankenPHP + Octane Staging ===
OCTANE_SERVER=frankenphp
OCTANE_HOST=0.0.0.0
OCTANE_PORT=443
OCTANE_WORKERS=4
OCTANE_MAX_REQUESTS=500
OCTANE_HTTPS=true

# === Multi-tenant Staging Domains ===
PRODUCTION_DOMAIN=staging.acme-corp.com
SERVER_NAME="staging.acme-corp.com, *.staging.acme-corp.com:443"

# === Database Configuration ===
DB_CONNECTION=mysql
DB_HOST=mysql
DB_PORT=3306
DB_DATABASE=acme_corp_csr_staging
DB_USERNAME=acme_staging
DB_PASSWORD=staging_secure_password
DB_ROOT_PASSWORD=staging_root_password

# === Cache & Session Configuration ===
CACHE_STORE=redis
SESSION_DRIVER=redis
SESSION_LIFETIME=120
SESSION_ENCRYPT=false

# === Queue Configuration ===
QUEUE_CONNECTION=redis
HORIZON_BALANCE=auto
HORIZON_MAX_PROCESSES=9
HORIZON_TRIES=3
HORIZON_TIMEOUT=180

# === Redis Configuration ===
REDIS_HOST=redis
REDIS_PASSWORD=staging_redis_password
REDIS_PORT=6379
REDIS_DB=0
REDIS_CACHE_DB=1
REDIS_QUEUE_DB=2
REDIS_SESSION_DB=3

# === Mail Configuration ===
MAIL_MAILER=smtp
MAIL_HOST=mailpit
MAIL_PORT=1025
MAIL_USERNAME=null
MAIL_PASSWORD=null
MAIL_ENCRYPTION=null
MAIL_FROM_ADDRESS=noreply@staging.acme-corp.com
MAIL_FROM_NAME="ACME CSR Platform (Staging)"

# === Search Configuration ===
SCOUT_DRIVER=meilisearch
MEILISEARCH_HOST=http://meilisearch:7700
MEILISEARCH_KEY=staging_meilisearch_key

# === Logging Configuration ===
LOG_CHANNEL=stack
LOG_STACK=daily,slack
LOG_LEVEL=info

# === Performance Tuning ===
PHP_OPCACHE_VALIDATE_TIMESTAMPS=1
PHP_OPCACHE_REVALIDATE_FREQ=60
PHP_MEMORY_LIMIT=512M

# === Storage Paths (Staging) ===
STORAGE_PATH=./storage
LOGS_PATH=./storage/logs
UPLOADS_PATH=./storage/app/public

# === SSL Configuration ===
LETS_ENCRYPT_EMAIL=admin@acme-corp.com

# === Tenancy Configuration ===
TENANCY_MODEL=tenant
TENANCY_DATABASE_AUTO_DELETE=false
TENANCY_QUEUE_DATABASE_DELETION=true

# === CORS Configuration ===
CORS_ALLOWED_ORIGINS=https://staging.acme-corp.com,https://*.staging.acme-corp.com
CORS_ALLOWED_METHODS="GET,POST,PUT,DELETE,OPTIONS,PATCH"
CORS_ALLOWED_HEADERS="Content-Type,Authorization,X-Requested-With,X-CSRF-TOKEN"